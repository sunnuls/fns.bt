# üé¨ FanslyMotion v2.0 - Enhanced Edition

> –ü—Ä–µ–≤—Ä–∞—â–∞–π—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ –ø–æ—Ç—Ä—è—Å–∞—é—â–∏–µ –≤–∏–¥–µ–æ —Å –ø–æ–º–æ—â—å—é AI
> 
> **–ö–∞—á–µ—Å—Ç–≤–æ: 11/10 ‚≠ê‚≠ê‚≠ê** | **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: +150% üöÄ**

## ‚ú® –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ –≤–µ—Ä—Å–∏–∏ 2.0

### üé® –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞

- **24 FPS –≤–º–µ—Å—Ç–æ 12** - –∏–¥–µ–∞–ª—å–Ω–æ –ø–ª–∞–≤–Ω–æ–µ –≤–∏–¥–µ–æ
- **40 —à–∞–≥–æ–≤ –≤–º–µ—Å—Ç–æ 24** - –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∏–Ω–æ
- **CRF 18** - –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑ –ø–æ—Ç–µ—Ä—å –∫–∞—á–µ—Å—Ç–≤–∞
- **–ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–≥–æ –∫–∞–¥—Ä–∞** - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —à—É–º–æ–≤ –∏ —É–ª—É—á—à–µ–Ω–∏–µ —Ä–µ–∑–∫–æ—Å—Ç–∏
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** - preset slow + tune film

### ‚ö° –ù–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **xformers** - —É—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–æ 2x
- **VAE Slicing** - —ç–∫–æ–Ω–æ–º–∏—è VRAM –¥–æ 40%
- **TF32 –Ω–∞ Ampere** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ +30% —Å–∫–æ—Ä–æ—Å—Ç–∏
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π pipeline** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ GPU —Å 16GB VRAM

### üê≥ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –æ–±–ª–∞–∫—É

- **Docker & Docker Compose** - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- **RunPod, Vast.ai, Lambda Labs** - –≥–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **Systemd services** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—Ç–∞—Ä—Ç
- **Health checks** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–æ (Windows)

```powershell
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/yourusername/fanslymotion.git
cd fanslymotion

# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
copy env.example .env
# –î–æ–±–∞–≤–∏—Ç—å BOT_TOKEN –≤ .env

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –í–ê–ñ–ù–û: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å xformers –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
pip install xformers==0.0.23

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
.\start_all.ps1
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker (–õ—é–±–∞—è –û–°)

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
git clone https://github.com/yourusername/fanslymotion.git
cd fanslymotion
cp env.example .env
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs -f
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (RunPod/Vast.ai)

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
bash runpod_setup.sh

# –ò–ª–∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ CLOUD_DEPLOYMENT.md
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[UPDATE_GUIDE.md](UPDATE_GUIDE.md)** - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –≤–µ—Ä—Å–∏–∏ 1.x
- **[QUALITY_IMPROVEMENTS.md](QUALITY_IMPROVEMENTS.md)** - –î–µ—Ç–∞–ª–∏ —É–ª—É—á—à–µ–Ω–∏–π –∫–∞—á–µ—Å—Ç–≤–∞
- **[PERFORMANCE_TIPS.md](PERFORMANCE_TIPS.md)** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **[CLOUD_DEPLOYMENT.md](CLOUD_DEPLOYMENT.md)** - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ–±–ª–∞–∫–µ
- **[TROUBLESHOOTING_RU.md](TROUBLESHOOTING_RU.md)** - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –†–∞–∑—Ä–µ—à–µ–Ω–∏—è
- **360p** (480√ó360) - –±—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- **480p** (640√ó480) - –±–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞/—Å–∫–æ—Ä–æ—Å—Ç–∏
- **720p** (1280√ó720) - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ‚≠ê
- **1080p** (1920√ó1080) - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

### –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- 3, 6, 8, 10, 12 —Å–µ–∫—É–Ω–¥

### Motion Presets
- **Micro** - —Ç–æ–Ω–∫–∏–µ –º–∏–∫—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è (–ø–æ—Ä—Ç—Ä–µ—Ç—ã)
- **Pan Left/Right** - –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ
- **Tilt Up/Down** - –Ω–∞–∫–ª–æ–Ω –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑
- **Dolly In** - –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ (zoom)

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### RTX 4090 (24GB VRAM)
```
720p, 6s  ‚Üí ~25 —Å–µ–∫—É–Ω–¥  | –ö–∞—á–µ—Å—Ç–≤–æ: 10/10
1080p, 6s ‚Üí ~35 —Å–µ–∫—É–Ω–¥  | –ö–∞—á–µ—Å—Ç–≤–æ: 11/10
1080p, 12s ‚Üí ~60 —Å–µ–∫—É–Ω–¥ | –ö–∞—á–µ—Å—Ç–≤–æ: 11/10
```

### RTX 3090 (24GB VRAM)
```
720p, 6s  ‚Üí ~30 —Å–µ–∫—É–Ω–¥  | –ö–∞—á–µ—Å—Ç–≤–æ: 10/10
1080p, 6s ‚Üí ~45 —Å–µ–∫—É–Ω–¥  | –ö–∞—á–µ—Å—Ç–≤–æ: 11/10
```

### A100 (40GB VRAM)
```
720p, 6s  ‚Üí ~20 —Å–µ–∫—É–Ω–¥  | –ö–∞—á–µ—Å—Ç–≤–æ: 10/10
1080p, 6s ‚Üí ~28 —Å–µ–∫—É–Ω–¥  | –ö–∞—á–µ—Å—Ç–≤–æ: 11/10
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Telegram Bot‚îÇ ‚Üê‚Üí Users
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ FastAPI API ‚îÇ ‚Üê‚Üí ‚îÇ  Redis  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                   ‚Üë
       ‚Üì                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ
‚îÇ RQ Worker   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ + SVD Model ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.10+**
- **PyTorch 2.1** —Å CUDA 12.1
- **Diffusers 0.25** (Stable Video Diffusion XT)
- **xformers 0.0.23** (–∫—Ä–∏—Ç–∏—á–Ω–æ!)
- **FastAPI** - REST API
- **Aiogram 3.x** - Telegram Bot
- **Redis + RQ** - –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞–Ω–∏–π
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

## üé® –ü—Ä–∏–º–µ—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ "–î–æ" –∏ "–ü–æ—Å–ª–µ"

| –ü–∞—Ä–∞–º–µ—Ç—Ä | v1.0 (–î–æ) | v2.0 (–ü–æ—Å–ª–µ) |
|----------|-----------|--------------|
| FPS | 12 | 24 ‚úÖ |
| –®–∞–≥–∏ | 24 | 40 ‚úÖ |
| –ü–ª–∞–≤–Ω–æ—Å—Ç—å | 7/10 | 11/10 ‚úÖ |
| –†–µ–∑–∫–æ—Å—Ç—å | 8/10 | 11/10 ‚úÖ |
| –î–µ—Ç–∞–ª–∏ | 8/10 | 11/10 ‚úÖ |
| VRAM | 22GB | 18GB ‚úÖ |
| –°–∫–æ—Ä–æ—Å—Ç—å | –ë–∞–∑–æ–≤–∞—è | +150% ‚úÖ |

## üåü –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞:
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ (>1024px)
2. ‚úÖ –í—ã–±–∏—Ä–∞–π—Ç–µ 720p –∏–ª–∏ 1080p
3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ xformers
4. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GPU —Å 16GB+ VRAM
5. ‚úÖ –•–æ—Ä–æ—à–µ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ –Ω–∞ —Ñ–æ—Ç–æ

### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏:
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ RTX 4090 –∏–ª–∏ A100
2. ‚úÖ –í–∫–ª—é—á–∏—Ç–µ –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
3. ‚úÖ –í—ã–±–∏—Ä–∞–π—Ç–µ 720p –≤–º–µ—Å—Ç–æ 1080p
4. ‚úÖ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 6s –≤–º–µ—Å—Ç–æ 12s
5. ‚úÖ –û–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å –±—ã—Å—Ç—Ä—ã–º GPU

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | GPU | –¶–µ–Ω–∞/—á–∞—Å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|-----------|-----|----------|--------------|
| Vast.ai | RTX 3090 | $0.15-0.25 | üí∞ –õ—É—á—à–∞—è —Ü–µ–Ω–∞ |
| RunPod | RTX 4090 | $0.34-0.50 | ‚ö° –ë–∞–ª–∞–Ω—Å |
| Lambda | A100 | $0.80-1.10 | üè¢ –ü—Ä–æ–¥–∞–∫—à–Ω |

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Out of Memory
```python
# –í config.py:
STEPS = 30  # –≤–º–µ—Å—Ç–æ 40
FPS = 18    # –≤–º–µ—Å—Ç–æ 24
```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å xformers
pip install xformers==0.0.23

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
python -c "import xformers; print('OK')"
```

### xformers –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
```bash
# –î–ª—è CUDA 12.1
pip install xformers==0.0.23+cu121 --index-url https://download.pytorch.org/whl/cu121
```

–ë–æ–ª—å—à–µ —Ä–µ—à–µ–Ω–∏–π –≤ [TROUBLESHOOTING_RU.md](TROUBLESHOOTING_RU.md)

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìñ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –°–º. —Ñ–∞–π–ª—ã `*_RU.md`
- üêõ **Issues:** [GitHub Issues](https://github.com/yourusername/fanslymotion/issues)
- üí¨ **–û–±—Å—É–∂–¥–µ–Ω–∏—è:** [GitHub Discussions](https://github.com/yourusername/fanslymotion/discussions)

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [Stability AI](https://stability.ai/) - Stable Video Diffusion
- [Hugging Face](https://huggingface.co/) - Diffusers library
- [xformers](https://github.com/facebookresearch/xformers) - Memory efficient attention
- –°–æ–æ–±—â–µ—Å—Ç–≤–æ –∑–∞ —Ñ–∏–¥–±–µ–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](LICENSE)

## üéØ Roadmap

- [ ] Upscaling –¥–æ 4K (Real-ESRGAN)
- [ ] Custom motion paths
- [ ] Multi-GPU support
- [ ] Temporal smoothing
- [ ] Web UI
- [ ] API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [ ] Batch processing

---

<div align="center">

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Ç—Ä—è—Å–∞—é—â–∏—Ö –≤–∏–¥–µ–æ**

[‚≠ê Star –Ω–∞ GitHub](https://github.com/yourusername/fanslymotion) ‚Ä¢ [üêõ –°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ](https://github.com/yourusername/fanslymotion/issues) ‚Ä¢ [üí° –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ñ–∏—á—É](https://github.com/yourusername/fanslymotion/discussions)

</div>

